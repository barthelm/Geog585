<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
	
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
		<title>Geography 485L/585L Milestone 7</title>
		<link rel="stylesheet" type="text/css" href="http://barthelm.github.io/Geog585/geog585.css">
	</head>
<body>
	<h4>Michael D. Barthel<br>
	Mar 3-9<br />
	Geography 485L/585L </h4>
	
	<ul id="nav">
	<li><a href="http://barthelm.github.io/Geog585/index.html">Index</a></li>
  	<li><a href="http://barthelm.github.io/Geog585/milestone_02.html">MS 2</a></li>
  	<li><a href="http://barthelm.github.io/Geog585/milestone_03.html">MS 3</a></li>
  	<li><a href="http://barthelm.github.io/Geog585/milestone_04.html">MS 4</a></li>
	<li><a href="http://barthelm.github.io/Geog585/deepdive_01.html" style="color:yellow;">DD 1</a></li>
  	<li><a href="http://barthelm.github.io/Geog585/milestone_05.html">MS 5</a></li>
  	<li><a href="http://barthelm.github.io/Geog585/milestone_06.html">MS 6</a></li>
  	<li><a href="http://barthelm.github.io/Geog585/deepdive_02.html" style="color:yellow;">DD 2</a></li>
  	<li>MS 7</li>
	<li><a href="http://barthelm.github.io/Geog585/deepdive_03.html" style="color:yellow;">DD 3</a></li>
	<li><a href="http://barthelm.github.io/Geog585/deepdive_04.html" style="color:yellow;">DD 4</a></li>
	</ul>
	
	<h1>Lab Assignment / Assignment 7</h1>
	
	<p>Given that McKinley County NM is contained within the following BBOX: -109.5, 34.5, -106.5, 36.5</p>
	
	<h2>Question 1</h2>
	<p><em>What is the aspect ratio of this geographic region?</em><br /><br />
	1.5<br /><br />
	<em><u>Calculations</u>:</em><br />
	BBOX width = (maxx) - (minx) = (-106.5) - (-109.5) = 3 degrees<br />
	BBOX height = (maxy) - (miny) = (36.5) - (34.5) = 2 degrees<br />
	BBOX aspect ratio = (BBOX width) / (BBOX height) = (3) / (2) = 1.5
	</p>
	
	<h2>Question 2</h2>
	<p><em>What would be the height (in whole pixels) for a map image for this region that is 600 pixels wide?</em><br /><br />
	400<br /><br />
	<em><u>Calculations</u>:</em><br />
	width = 600<br />
	aspect ratio = width / height = 600 / height = 1.5<br />
	height = (width) / (aspect ratio) = 600 / 1.5 = 400
	</p>
	
	<h2>Question 3</h2>
	<p><em>Formulate a WMS request that reflects the values determined in 1.1 and 1.2 above for the WMS service used above in the examples. Include in your answer both the actual WMS request and the returned map image.</em></p>
	<p><a href="http://gstore.unm.edu/apps/rgis/datasets/97810/services/ogc/wms?VERSION=1.1.1&SERVICE=WMS&REQUEST=GetMap&BBOX=-109.5, 34.5, -106.5, 36.5&LAYERS=2007fe_35_county00&FORMAT=image/png&TRANSPARENT=TRUE&STYLES=&SRS=EPSG:4326&WIDTH=600&HEIGHT=400">Link to WMS request</a><br /><br />
	<em><u>Formulation</u>:</em><br />
	http://gstore.unm.edu/apps/rgis/datasets/97810/services/ogc/wms?<br />
	VERSION=1.1.1<br />
	&SERVICE=WMS<br />
	&REQUEST=GetMap<br />
	&BBOX=-109.5, 34.5, -106.5, 36.5<br />
	&LAYERS=2007fe_35_county00<br />
	&FORMAT=image/png<br />
	&TRANSPARENT=TRUE<br />
	&STYLES=<br />
	&SRS=EPSG:4326<br />
	&WIDTH=600<br />
    &HEIGHT=400</p>	
	<p><img src="http://gstore.unm.edu/apps/rgis/datasets/97810/services/ogc/wms?VERSION=1.1.1&SERVICE=WMS&REQUEST=GetMap&BBOX=-109.5, 34.5, -106.5, 36.5&LAYERS=2007fe_35_county00&FORMAT=image/png&TRANSPARENT=TRUE&STYLES=&SRS=EPSG:4326&WIDTH=600&HEIGHT=400" /></p>

	<h2>Question 4:</h2>
	<p>Formulate a WMS request for a 900x600 pixel map image that represents the full 3-degree width of the geographic region, and is based upon the minimum Y value of 34.5 degrees North Latitude. Include in your answer both the WMS request and the returned map image.
</p>
	<p><em><u>Calculations</u>:</em><br />
	image aspect ratio = (width) / (height) = (900) / (600) = 1.5<br />
	BBOX aspect ratio = (width) / (height) = (3) / (height in degrees) = 1.5<br />
	BBOX height = (width) / (BBOX aspect ratio) = (3) / (1.5) = 2<br /><br />

</p>

	<p><a href="http://gstore.unm.edu/apps/rgis/datasets/97810/services/ogc/wms?VERSION=1.1.1&SERVICE=WMS&REQUEST=GetMap&BBOX=-109.5,34.5,-106.5,36.5&LAYERS=2007fe_35_county00&FORMAT=image/png&TRANSPARENT=TRUE&STYLES=&SRS=EPSG:4326&WIDTH=900&HEIGHT=600">Map Request Link</a><br /><br />
	<em><u>Formulation</u>:</em><br />
	http://gstore.unm.edu/apps/rgis/datasets/97810/services/ogc/wms?<br />
	VERSION=1.1.1&<br />
	SERVICE=WMS&<br />
	REQUEST=GetMap&<br />
	BBOX=-109.5,34.5,-106.5,36.5&<br />
	LAYERS=2007fe_35_county00&<br />
	FORMAT=image/png&<br />
	TRANSPARENT=TRUE&<br />
	STYLES=&<br />
	SRS=EPSG:4326&<br />
	WIDTH=900&<br />
HEIGHT=600</p>
<p><img src="http://gstore.unm.edu/apps/rgis/datasets/97810/services/ogc/wms?VERSION=1.1.1&SERVICE=WMS&REQUEST=GetMap&BBOX=-109.5,34.5,-106.5,36.5&LAYERS=2007fe_35_county00&FORMAT=image/png&TRANSPARENT=TRUE&STYLES=&SRS=EPSG:4326&WIDTH=900&HEIGHT=600" /></p>
	
	<h2>Question 5:</h2>
	<p>Given a WMS that is represented by the following GetCapabilities request, (<a href="http://raster.nationalmap.gov/ArcGIS/services/TNM_Large_Scale_Imagery/MapServer/WMSServer?request=GetCapabilities&service=WMS">LINK</a>) <br />
	formulate individual GetMap requests using the following parameters:<br /><br />
	BBOX=-106.639,35.074,-106.609,35.094 WIDTH=600 HEIGHT=400<br />
	for each of the following layers: 0 (TNM_Large_Scale_Imagery) and 1 (1_foot_imagery):</p>
	<ol>
	<li style="margin-bottom:1em;"><a href="http://raster.nationalmap.gov/arcgis/services/TNM_Large_Scale_Imagery/MapServer/WMSServer?VERSION=1.1.0&SERVICE=WMS&REQUEST=GetMap&BBOX=-106.639,35.074,-106.609,35.094&LAYERS=0&WIDTH=600&HEIGHT=400&SRS=EPSG:4326&FORMAT=image/jpeg&STYLES=">Layer 0 Link</a><br /><br />
	<em><u>Formulation</u>:</em><br />
	http://raster.nationalmap.gov/arcgis/services/TNM_Large_Scale_Imagery/MapServer/WMSServer?<br />
	VERSION=1.1.0<br />
	&SERVICE=WMS<br />
	&REQUEST=GetMap<br />
	&BBOX=-106.639,35.074,-106.609,35.094<br />
	&LAYERS=0<br />
	&WIDTH=600<br />
	&HEIGHT=400<br />
	&SRS=EPSG:4326<br />
	&FORMAT=image/jpeg<br />
	&STYLES=</li>

	<li><a href="http://raster.nationalmap.gov/arcgis/services/TNM_Large_Scale_Imagery/MapServer/WMSServer?VERSION=1.1.0&SERVICE=WMS&REQUEST=GetMap&BBOX=-106.639,35.074,-106.609,35.094&LAYERS=1&WIDTH=600&HEIGHT=400&SRS=EPSG:4326&FORMAT=image/jpeg&STYLES=">Layer 1 Link</a><br /><br />
	<em><u>Formulation</u>:</em><br />
	http://raster.nationalmap.gov/arcgis/services/TNM_Large_Scale_Imagery/MapServer/WMSServer?<br />
	VERSION=1.1.0<br />
	&SERVICE=WMS<br />
	&REQUEST=GetMap<br />
	&BBOX=-106.639,35.074,-106.609,35.094<br />
	&LAYERS=1<br />
	&WIDTH=600<br />
	&HEIGHT=400<br />
	&SRS=EPSG:4326<br />
	&FORMAT=image/jpeg<br />
	&STYLES=</li>
	</ol>

	<h2>Question 6</h2>
	<p><em>Which layers return map images that display image content (i.e. return a non-blank image)?</em><br /><br />
    Layer 0 displays image content.</p>
    
	<h2>Question 7</h2>
	<p><em>From examining the information for these layers in the GetCapabilities XML document - which element in each layer's service metadata do you think provides information about the scales for which the layer will return map images containing data?</em><br /><br />
    The Abstract provides information about scales. MaxScaleDenominator shows the ranges for each layer.</p>
	
    <h2>Question 8:</h2>
<p><em>Which map images contain data for each of the following map image widths <br />
    (remember to adjust the image height to match the BBOX of the request)</em><br /><br />
    
    The aspect ratio of the image in Question 5 is 1.5 (see below calculation)<br />
    <em><u>Calculation</u>:</em><br />
    BBOX width = (maxx) - (minx) = (-106.609) - (-106.639) = .03 degrees<br />
	BBOX height = (maxy) - (miny) = (35.094) - (35.074) = .02 degrees<br />
	BBOX aspect ratio = (BBOX width) / (BBOX height) = (.03) / (.02) = 1.5</p>
	
    <ol>
    <li style="margin-bottom:1em;">This map would be 30 pixels wide x 20 pixels high:<br />
    This would be map image: LAYER 1, 1_foot_imagery<br /><br />
	
	aspect ratio = width / height = 30 / height = 1.5<br />
	height = (width) / (aspect ratio) = 30 / 1.5 = 20</li>
	
    <li><span style="margin-bottom:1em;">This map would be </span>1200 pixels wide x  800 pixels high:<br />
    This would be map image: LAYER 0, TNM_Large_Scale_Imagery<br />
    <br />
	
	aspect ratio = width / height = 1200 / height = 1.5<br />
	height = (width) / (aspect ratio) = 1200 / 1.5 = 800</li>
    </ol>
</body>
</html>
